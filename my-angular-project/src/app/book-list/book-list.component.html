<div class="parent-container">
<div class="search-container">
  <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="search()" placeholder="Enter book title">
</div>
</div>

<div *ngIf="books$ | async as books; else loading" class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <ul class="list-group">
        <li *ngFor="let book of books" class="list-group-item">
          <img *ngIf="book.imageUrl" [src]="'http://localhost:3000/' + book.imageUrl" class="img-fluid mt-2" style="width: 150px;">
          <h3 class="mb-2">{{ book.title }}</h3>
          <p class="mb-1"><strong>Author:</strong> {{ book.author }}</p>
          <p class="mb-1"><strong>Description:</strong> {{ book.description }}</p>
          <p class="mb-1"><strong>Price:</strong> ${{ book.price }}</p>
          <!--<p class="mb-0"><strong>Owner:</strong> {{ book.owner}}</p>-->
          <!-- Display the image using the imageUrl provided by the server -->
          <div class="mt-3">
            <!-- Buttons for edit, delete, and details -->
            <button class="btn btn-info" (click)="showDetails(book)">Details</button>
          </div>

          {{ logBook(book) }}
        </li>
      </ul>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="container text-center mt-4">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <p class="mt-2">Loading books...</p>
  </div>
</ng-template>
